{"version":3,"sources":["pages/Login.js","components/post.js","pages/AllPosts.js","pages/SinglePost.js","pages/SinglePostUser.js","components/navbar.js","pages/NewPost.js","App.js","reportWebVitals.js","index.js"],"names":["Login","props","React","useContext","GlobalCtx","gState","setGState","url","blank","username","password","useState","form","setForm","handleChange","event","target","name","value","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","window","localStorage","setItem","token","history","push","type","onChange","className","Post","post","src","image","height","width","title","AllPosts","posts","setPosts","useEffect","map","to","id","SinglePost","setPost","match","params","description","price","contact","SinglePostUser","useHistory","formData","setFormData","getPost","ready","updatePost","a","Authorization","deletePost","placeholder","onClick","Navbar","style","textDecoration","removeItem","location","reload","NewPost","createPost","newPost","createContext","App","parse","getItem","Provider","path","component","exact","render","rp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c2679e27.chunk.js","sourcesContent":["import React from \"react\";\nimport { GlobalCtx } from \"../App\";\n\nconst Login = (props) => {\n  const { gState, setGState } = React.useContext(GlobalCtx);\n  const { url } = gState;\n\n  const blank = {\n    username: \"\",\n    password: \"\",\n  };\n\n  const [form, setForm] = React.useState(blank);\n\n  const handleChange = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = form;\n    fetch(`${url}login`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        window.localStorage.setItem(\"token\", JSON.stringify(data));\n        setGState({ ...gState, token: data.token });\n        setForm(blank);\n        props.history.push(\"/project4-frontend\");\n      });\n  };\n\n  return (\n    <div>\n      <h1>Log In</h1>\n      <br />\n      <form onSubmit={handleSubmit}>\n        <h3>Username</h3>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={form.username}\n          onChange={handleChange}\n        />\n        <h3>Password</h3>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={form.password}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <input type=\"submit\" value=\"Log In\" className=\"submit-button\" />\n      </form>\n      <br />\n      {/* <Link to=\"signup\">\n        <button role=\"link\">Sign Up</button>\n      </Link> */}\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nconst Post = ({ post }) => {\n  return (\n    <div className=\"post\">\n      <img src={post.image} height=\"100px\" width=\"auto\" />\n      <h1 className=\"post-title\"> {post.title}</h1>\n    </div>\n  );\n};\nexport default Post;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../components/post\";\nimport { GlobalCtx } from \"../App\";\n\nconst AllPosts = () => {\n  const { gState } = React.useContext(GlobalCtx);\n\n  const [posts, setPosts] = useState([]);\n\n  const getPosts = () => {\n    // fetch makes a get request by default\n    fetch(gState.url + \"posts\")\n      .then((response) => response.json())\n      .then((data) => setPosts(data));\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  if (gState.token) {\n    return (\n      <div className=\"posts-container\">\n        {posts.map((post) => (\n          <Link\n            to={`/posts/${post.id}/edit`}\n            key={post.id}\n            className=\"post-link\"\n          >\n            <Post post={post} />\n          </Link>\n        ))}\n      </div>\n    );\n  }\n  return (\n    <div className=\"posts-container\">\n      {posts.map((post) => (\n        <Link to={`/posts/${post.id}`} key={post.id} className=\"post-link\">\n          <Post post={post} />\n        </Link>\n      ))}\n    </div>\n  );\n};\nexport default AllPosts;\n","import React, { useEffect, useState } from \"react\";\nimport { GlobalCtx } from \"../App\";\n\nconst SinglePost = (props) => {\n  const { gState } = React.useContext(GlobalCtx);\n\n  const [post, setPost] = useState(null);\n\n  const getPost = () => {\n    // fetch makes a get request by default\n    fetch(gState.url + \"posts/\" + props.match.params.id)\n      .then((response) => response.json())\n      .then((data) => setPost(data));\n  };\n\n  useEffect(() => {\n    getPost();\n  }, []);\n\n  if (!post) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <br />\n      <img src={post.image} width=\"100px\" />\n      <br />\n      <h1>{post.title}</h1>\n      <h3>{post.description}</h3>\n      <span>${post.price}.00</span>\n      <h3>{post.contact}</h3>\n    </div>\n  );\n};\nexport default SinglePost;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { GlobalCtx } from \"../App\";\n\nconst SinglePostUser = (props) => {\n  const { gState } = React.useContext(GlobalCtx);\n  const history = useHistory();\n\n  const [formData, setFormData] = useState({\n    image: \"\",\n    title: \"\",\n    contact: \"\",\n    price: 0,\n    description: \"\",\n  });\n\n  const [post, setPost] = useState(null);\n\n  const getPost = () => {\n    // fetch makes a get request by default\n    fetch(gState.url + \"posts/\" + props.match.params.id)\n      .then((response) => response.json())\n      .then((data) => setPost(data));\n  };\n\n  useEffect(() => {\n    getPost();\n  }, []);\n\n  // anytime post changes and it exists, when you fetch the post set the form data\n  useEffect(() => {\n    if (post) {\n      setFormData(post);\n    }\n  }, [post]);\n\n  // if the state of token changes and the token is not ready and there is no token then redirect to login\n  useEffect(() => {\n    if (gState.ready && !gState.token) {\n      history.push(\"/\");\n    }\n  }, [gState.ready, gState.token]);\n\n  if (!post) {\n    return <div>Loading...</div>;\n  }\n\n  const updatePost = async () => {\n    await fetch(gState.url + \"posts/\" + props.match.params.id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + gState.token,\n      },\n      body: JSON.stringify(formData),\n    });\n    history.push(\"/posts/\" + props.match.params.id);\n  };\n\n  const deletePost = async () => {\n    await fetch(gState.url + \"posts/\" + props.match.params.id, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + gState.token,\n      },\n    });\n    // get updated post\n    getPost();\n    history.push(\"/project4-frontend\");\n  };\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <div>\n      <form>\n        <br />\n        <img src={formData.image} width=\"100px\" />\n        <h1>Image</h1>\n        <input\n          type=\"text\"\n          name=\"image\"\n          placeholder={post.image}\n          value={formData.image}\n          onChange={handleChange}\n        />\n        <h1>Title</h1>\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder={post.title}\n          value={formData.title}\n          onChange={handleChange}\n        />\n        <h1>Price</h1>\n        $\n        <input\n          type=\"text\"\n          name=\"price\"\n          placeholder={post.price}\n          value={formData.price}\n          onChange={handleChange}\n        />\n        .00\n        <h1>Contact</h1>\n        <input\n          type=\"text\"\n          name=\"contact\"\n          placeholder={post.contact}\n          value={formData.contact}\n          onChange={handleChange}\n        />\n        <h1>Description</h1>\n        <input\n          type=\"text\"\n          name=\"description\"\n          placeholder={post.description}\n          value={formData.description}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <button type=\"button\" onClick={updatePost} className=\"submit-button\">\n          Update\n        </button>\n        <br />\n        <br />\n        <button\n          type=\"button\"\n          onClick={deletePost}\n          className=\"submit-button delete-button\"\n        >\n          Delete\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default SinglePostUser;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { GlobalCtx } from \"../App\";\n\nconst Navbar = () => {\n  const { gState } = React.useContext(GlobalCtx);\n\n  const history = useHistory();\n  const logout = () => {\n    window.localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  if (gState.token) {\n    return (\n      <div className=\"navbar\">\n        <h1>Batman Collector's Marketplace</h1>\n        <Link to=\"/project4-frontend\" style={{ textDecoration: \"none\" }}>\n          <h2 className=\"nav-link\">Home</h2>\n        </Link>\n        <Link to=\"/posts/new\" style={{ textDecoration: \"none\" }}>\n          <h2 className=\"nav-link\">Create Post </h2>\n        </Link>\n        <Link\n          to=\"/project4-frontend\"\n          onClick={logout}\n          style={{ textDecoration: \"none\" }}\n        >\n          <h2 className=\"nav-link\">Log Out</h2>\n        </Link>\n      </div>\n    );\n  }\n  return (\n    <div className=\"navbar\">\n      <h1>Batman Collector's Marketplace</h1>\n      <Link to=\"/project4-frontend\" style={{ textDecoration: \"none\" }}>\n        <h2 className=\"nav-link\">Home</h2>\n      </Link>\n      <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\n        <h2 className=\"nav-link\">Log In</h2>\n      </Link>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import React, { useEffect, useState } from \"react\";\nimport { GlobalCtx } from \"../App\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NewPost = () => {\n  const { gState } = React.useContext(GlobalCtx);\n  const history = useHistory();\n\n  const [post] = useState(null);\n  const [posts, setPosts] = useState([]);\n\n  const [formData, setFormData] = useState({\n    image: \"\",\n    title: \"\",\n    contact: \"\",\n    price: 0,\n    description: \"\",\n  });\n\n  const getPosts = () => {\n    // fetch makes a get request by default\n    fetch(gState.url + \"posts\")\n      .then((response) => response.json())\n      .then((data) => setPosts(data));\n  };\n\n  // anytime post changes and it exists, when you fetch the post set the form data\n  useEffect(() => {\n    if (post) {\n      setFormData(post);\n    }\n  }, [post]);\n\n  const createPost = async (newPost) => {\n    await fetch(gState.url + \"posts\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + gState.token,\n      },\n      body: JSON.stringify(formData),\n    });\n    getPosts();\n  };\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    createPost(formData);\n    history.push(\"/project4-frontend\");\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <h1>Title</h1>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={formData.title}\n          onChange={handleChange}\n        />\n        <h1>Image</h1>\n        <input\n          type=\"text\"\n          name=\"image\"\n          value={formData.image}\n          onChange={handleChange}\n        />\n        <h1>Price</h1>\n\n        <strong>$</strong>\n        <input\n          type=\"text\"\n          name=\"price\"\n          value={formData.price}\n          onChange={handleChange}\n        />\n        <strong>.00</strong>\n\n        <h1>Contact</h1>\n        <input\n          type=\"text\"\n          name=\"contact\"\n          value={formData.contact}\n          onChange={handleChange}\n        />\n        <h1>Description</h1>\n        <input\n          type=\"text\"\n          name=\"description\"\n          value={formData.description}\n          onChange={handleChange}\n        />\n        <br />\n        <br />\n        <input type=\"submit\" value=\"Create Post\" className=\"submit-button\" />\n      </form>\n    </div>\n  );\n};\nexport default NewPost;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\n// import Signup from \"./pages/Signup\";\nimport AllPosts from \"./pages/AllPosts\";\nimport SinglePost from \"./pages/SinglePost\";\nimport SinglePostUser from \"./pages/SinglePostUser\";\nimport Navbar from \"./components/navbar\";\n\nimport NewPost from \"./pages/NewPost\";\n\nimport \"./App.css\";\n\nexport const GlobalCtx = React.createContext(null);\n\nfunction App() {\n  const [gState, setGState] = React.useState({\n    url: \"https://project4-classifiedads-backend.herokuapp.com/\",\n    // url: \"http://localhost:3000/\",\n    token: null,\n    ready: false,\n  });\n\n  //Check if user is logged in\n  React.useEffect(() => {\n    const token = JSON.parse(window.localStorage.getItem(\"token\"));\n    if (token) {\n      setGState({ ...gState, token: token.token, ready: true });\n    } else {\n      setGState({ ...gState, token: null, ready: true });\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <GlobalCtx.Provider value={{ gState, setGState }}>\n        <Route path=\"/\" component={Navbar} />\n\n        <Switch>\n          <Route\n            exact\n            path=\"/project4-frontend\"\n            render={(rp) => <AllPosts {...rp} />}\n          />\n          <Route exact path=\"/login\" render={(rp) => <Login {...rp} />} />\n          <Route exact path=\"/posts/new\" render={(rp) => <NewPost {...rp} />} />\n          <Route\n            exact\n            path=\"/posts/:id\"\n            render={(rp) => <SinglePost {...rp} />}\n          />\n          <Route\n            exact\n            path=\"/posts/:id/edit\"\n            render={(rp) => <SinglePostUser {...rp} />}\n          />\n\n          {/* <Route path=\"/signup\" render={(rp) => <Signup {...rp} />} /> */}\n        </Switch>\n      </GlobalCtx.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}